{"version":3,"sources":["FuncResultsState.js","SearchBar.js","SearchBarUpdate.js","ReplaceBar.js","ReplaceBarUpdate.js","UploadButton.js","Upload.js","VisibleFuncResultsList.js","FuncResultsList.js","App.js","index.js"],"names":["UPDATE_FUNCS","UPDATE_VISIBLE_FUNCS","UPDATE_SEARCH_QUERY","initialState","funcs","visibleFuncs","searchRegex","RegExp","updateFuncs","type","updateVisibleFuncs","FuncResultsReducer","combineReducers","state","action","regex","useStyles","makeStyles","theme","root","padding","display","alignItems","input","marginLeft","spacing","flex","iconButton","divider","height","margin","handleQueryUpdate","query","dispatch","getState","queryFilter","func","match","filterFromRegex","filter","e","console","error","SearchBarUpdate","connect","onQueryUpdate","props","classes","Paper","className","InputBase","placeholder","onChange","target","value","ReplaceBarUpdate","handleKeyPress","replaceQuery","key","replace","matches","result","i","length","buildReplacer","replacedVisibleFuncs","map","replacedFuncs","onKeyPress","button","getFuncs","files","fileReader","FileReader","onloadend","split","readAsText","Upload","onFileUpload","id","htmlFor","Button","variant","component","VisibleFuncResultsList","width","itemCount","itemSize","overscanRowCount","rowProps","index","style","ListItem","Input","fullWidth","defaultValue","FuncItem","flexGrow","paper","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","Grid","container","item","xs","document","getElementById"],"mappings":"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","file":"static/js/main.6f3c8fd7.chunk.js","sourcesContent":["import {combineReducers} from \"redux\";\n\nexport const UPDATE_FUNCS = \"UPDATE_FUNCTIONS\";\nexport const UPDATE_VISIBLE_FUNCS = \"UPDATE_VISIBLE_FUNCTIONS\";\nexport const UPDATE_SEARCH_QUERY = \"UPDATE_SEARCH_QUERY\"\n\nconst initialState = {\n  funcs: [],\n  visibleFuncs: [],\n  searchRegex: new RegExp(\".*\", \"i\")\n};\n\nexport function updateFuncs(funcs) {\n  return {type: UPDATE_FUNCS, funcs}\n}\n\nexport function updateVisibleFuncs(funcs) {\n  return {type: UPDATE_VISIBLE_FUNCS, funcs}\n}\n\nexport function updateSearchRegex(regex) {\n  return {type: UPDATE_SEARCH_QUERY, regex}\n}\n\nfunction funcs(state = initialState.funcs, action) {\n  switch (action.type) {\n    case UPDATE_FUNCS:\n      return action.funcs\n    default:\n      return state\n  }\n}\n\nfunction visibleFuncs(state = initialState.visibleFuncs, action) {\n  switch (action.type) {\n    case UPDATE_VISIBLE_FUNCS:\n      return action.funcs\n    default:\n      return state\n  }\n}\n\nfunction searchRegex(state = initialState.searchRegex, action) {\n  switch (action.type) {\n    case UPDATE_SEARCH_QUERY:\n      return action.regex\n    default:\n      return state\n  }\n}\n\nexport const FuncResultsReducer = combineReducers({\n  funcs,\n  visibleFuncs,\n  searchRegex,\n});\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n  },\n  divider: {\n    height: 28,\n    margin: 4,\n  },\n}));\n\nexport default function SearchBar(props) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root}>\n      <InputBase\n        className={classes.input}\n        placeholder=\"Type your regex.\"\n        onChange={(e) => {props.onQueryUpdate(e.target.value)}}\n      />\n      <SearchIcon />\n    </Paper>\n  );\n}","import {connect} from 'react-redux'\nimport {updateSearchRegex, updateVisibleFuncs} from \"./FuncResultsState\";\nimport SearchBar from \"./SearchBar\";\n\nconst filterFromRegex = (searchRegex) => {\n  return (func) => {\n    if(searchRegex===\"\") return true\n    return func.match(searchRegex) != null\n  }\n}\n\nconst handleQueryUpdate = (query) => {\n\n  return (dispatch, getState) => {\n    try {\n      const searchRegex = new RegExp(query, \"i\");\n      const queryFilter = filterFromRegex(searchRegex)\n      const state = getState()\n      const funcs = state.funcs\n\n      const visibleFuncs = funcs.filter(func => queryFilter(func))\n      dispatch(updateVisibleFuncs(visibleFuncs))\n      dispatch(updateSearchRegex(searchRegex))\n    } catch(e) {\n      console.error(\"Invalid Pattern.\")\n    }\n\n  }\n}\n\nconst mapStateToProps = state => {\n  return {}\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onQueryUpdate: (query) => {\n      dispatch(handleQueryUpdate(query))\n    }\n  }\n}\n\nconst SearchBarUpdate = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(SearchBar)\n\nexport default SearchBarUpdate","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport FindReplaceIcon from '@material-ui/icons/FindReplace';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n  },\n  divider: {\n    height: 28,\n    margin: 4,\n  },\n}));\n\nexport default function ReplaceBar(props) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root}>\n      <InputBase\n        className={classes.input}\n        placeholder=\"Replace the below selection. \\0 is replaced by original String. \\1 to \\n is replaced by first to nth capture group.\"\n        onKeyPress= {props.handleKeyPress}\n      />\n      <FindReplaceIcon />\n    </Paper>\n  );\n}","import {connect} from 'react-redux'\nimport {updateFuncs, updateVisibleFuncs} from \"./FuncResultsState\";\nimport ReplaceBar from \"./ReplaceBar\";\n\n\nconst buildReplacer = (searchRegex, replaceQuery) => {\n  return (func) => {\n    const matches = func.match(searchRegex)\n    if (matches === null) return func\n\n    let result = replaceQuery\n    matches[0] = func\n    for (var i=0; i<matches.length; i++) {\n      result = replaceQuery.replace(\"\\\\\" + i, matches[i])\n    }\n\n    return result\n  }\n}\n\nconst handleReplace = (replaceQuery) => {\n  return (dispatch, getState) => {\n    try {\n      const state = getState()\n      const visibleFuncs = state.visibleFuncs\n      const funcs = state.funcs\n      const searchRegex = state.searchRegex\n\n      const replace = buildReplacer(searchRegex, replaceQuery)\n\n      const replacedVisibleFuncs = visibleFuncs.map(func => replace(func))\n      const replacedFuncs = funcs.map(func => replace(func))\n\n      dispatch(updateVisibleFuncs(replacedVisibleFuncs))\n      dispatch(updateFuncs(replacedFuncs))\n    } catch(e) {\n      console.error(e)\n    }\n  }\n}\n\nconst mapStateToProps = state => {\n  return {}\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleKeyPress: (e) => {\n      if (e.key === 'Enter') {\n        dispatch(handleReplace(e.target.value))\n      }\n    }\n  }\n}\n\nconst ReplaceBarUpdate = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(ReplaceBar)\n\nexport default ReplaceBarUpdate","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n  input: {\n    display: 'none',\n  },\n}));\n\nexport default function UploadButton(props) {\n  const classes = useStyles();\n\n  return (\n    <div>\n      <input\n        className={classes.input}\n        id=\"contained-button-file\"\n        type=\"file\"\n        onChange={e => props.onFileUpload(e.target.files)}\n      />\n      <label htmlFor=\"contained-button-file\">\n        <Button variant=\"contained\" component=\"span\" className={classes.button}>\n          Upload\n        </Button>\n      </label>\n    </div>\n  );\n}\n\n","import {connect} from 'react-redux'\nimport UploadButton from './UploadButton'\nimport { updateFuncs, updateVisibleFuncs} from \"./FuncResultsState\";\n\nconst updateAllFuncs = (funcs)  => {\n  return (dispatch, getState) => {\n    dispatch(updateVisibleFuncs(funcs))\n    dispatch(updateFuncs(funcs))\n  }\n}\n\n// Ignore all but first file\nconst getFuncs = (files, dispatch) => {\n  const fileReader = new FileReader();\n  fileReader.onloadend = (e) => {\n    dispatch(updateAllFuncs(e.target.result.split(\"\\n\")));\n  }\n  fileReader.readAsText(files[0])\n}\n\n const mapStateToProps = state => {\n   return {}\n }\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFileUpload: files => {\n      return getFuncs(files, dispatch)\n    }\n  }\n}\n\nconst Upload = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(UploadButton)\n\nexport default Upload","import { connect } from 'react-redux'\nimport FuncResultsList from './FuncResultsList'\n\nconst mapStateToProps = state => {\n  return {\n    visibleFuncs: state.visibleFuncs\n  }\n}\n\nconst VisibleFuncResultsList = connect(\n  mapStateToProps,\n  () => {return {}},\n)(FuncResultsList)\n\nexport default VisibleFuncResultsList","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { FixedSizeList } from 'react-window';\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport Input from '@material-ui/core/Input';\n\nfunction FuncItem(visibleFuncs, props) {\n  const { index, style } = props;\n\n  return (\n    <ListItem button style={style} key={index}>\n      {/*<ListItemText primary={`${visibleFuncs[index]}`} />*/}\n      <Input\n        fullWidth={true}\n        type={\"text\"}\n        defaultValue={visibleFuncs[index]}\n      />\n    </ListItem>\n  );\n}\n\nFuncItem.propTypes = {\n  index: PropTypes.number.isRequired,\n  style: PropTypes.object.isRequired,\n};\n\nexport default function FuncResultsList(props) {\n  return (\n    <AutoSizer>\n      {({height, width}) => (\n          <FixedSizeList\n            className=\"FunctionResultsList\"\n            height={height}\n            itemCount={props.visibleFuncs.length}\n            itemSize={35}\n            width={width}\n            overscanRowCount={3}\n          >\n            {(rowProps) => FuncItem(props.visibleFuncs, rowProps)}\n          </FixedSizeList>\n        )}\n    </AutoSizer>\n  );\n}\n\nFuncResultsList.propTypes = {\n  visibleFuncs: PropTypes.arrayOf(\n    PropTypes.string\n  ).isRequired,\n}","import React from \"react\";\nimport SearchBarUpdate from \"./SearchBarUpdate\";\nimport ReplaceBarUpdate from \"./ReplaceBarUpdate\";\nimport Upload from \"./Upload\";\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport VisibleFuncResultsList from \"./VisibleFuncResultsList\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    padding: theme.spacing(3, 2),\n    height: 500,\n  },\n}));\n\nexport default function App(props) {\n    const classes = useStyles();\n\n    return (\n      <div className={classes.root}>\n        <Grid container spacing={2} style={{height:'100%'}}>\n          <Grid item xs={9}>\n            <SearchBarUpdate />\n          </Grid>\n          <Grid item xs={9}>\n            <ReplaceBarUpdate />\n          </Grid>\n          <Grid item xs={9}>\n            <Paper className={classes.paper}>\n              <VisibleFuncResultsList />\n            </Paper>\n          </Grid>\n          <Grid item xs={9}>\n            <Upload />\n          </Grid>\n        </Grid>\n      </div>\n    );\n}\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { Provider } from 'react-redux'\nimport { FuncResultsReducer } from \"./FuncResultsState\";\nimport thunkMiddleware from 'redux-thunk'\nimport { createLogger } from 'redux-logger'\nimport { createStore, applyMiddleware, compose } from 'redux'\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  FuncResultsReducer,\n  composeEnhancer(applyMiddleware(thunkMiddleware)),\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}